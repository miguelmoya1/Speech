<nav class="navbar navbar-expand-lg fixed-top navbar-light">
    <a class="navbar-brand">Isofocus</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMenu" aria-controls="navbarMenu"
        aria-expanded="false" aria-label="Toggle navigation">
        <mat-icon>menu</mat-icon>
    </button>

    <div class="collapse navbar-collapse" id="navbarMenu">
        <div class="navbar-nav mr-auto">
            <button mat-button class="button-menu-link" [routerLink]="['/']">
                <mat-icon>home</mat-icon>
                Inicio
            </button>
            <button mat-button class="button-menu-link" [routerLink]="['/calendario']">
                <mat-icon>perm_contact_calendar</mat-icon>
                Calendario
            </button>
        </div>
        <div class="navbar-nav dropdown" *ngIf="!user; else userShow">
            <button mat-button class="button-menu-link login-button" id="dropdownMenuLogin" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                <mat-icon>power_settings_new</mat-icon>
                Iniciar sesión
            </button>
            <div class="dropdown dropdown-menu dropdown-menu-right menu-login" aria-labelledby="dropdownMenuLogin">
                <form class="login-menu">
                    <mat-form-field class="full-width">
                        <input autocomplete="off" matInput name="email" placeholder="Correo electronico o nick" [(ngModel)]="email">
                    </mat-form-field>
                    <mat-form-field class="full-width">
                        <input autocomplete="off" matInput name="password" placeholder="Contraseña" [(ngModel)]="password">
                    </mat-form-field>
                </form>
                <button [disabled]="getDisableLogin()" mat-button (click)="login()" class="button-menu-link button-menu-login">Iniciar sesión</button>
                <div class="dropdown-divider"></div>
                <p>¿Nuevo en Isofocus? Regístrate</p>
                <!-- TODO: HAcer link de registro -->
                <!-- <a class="dropdown-item" href="#">Forgot password?</a> -->
            </div>
        </div>
        <ng-template #userShow>
            <div class="navbar-nav dropdown">
                <button mat-button class="button-menu-link login-button" id="dropdownUserLogged" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false">
                    <mat-icon>person</mat-icon>
                    {{user.name + ' ' + user.surname}}
                </button>
                <div class="dropdown dropdown-menu dropdown-menu-right" aria-labelledby="dropdownUserLogged">
                    <button mat-button (click)="logout()" class="button-menu-link button-menu-login">
                        <mat-icon>power_settings_new</mat-icon>
                        Cerrar sesión
                    </button>
                </div>
            </div>
        </ng-template>
    </div>
</nav>
